<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØµÙ„ÙˆØ§Øª Ø´Ù…Ø§Ø± Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    :root {
      --primary-color: #5D3FD3;
      --secondary-color: #3A1CA6;
      --accent-color: #FF6B6B;
      --light-color: #F8F9FA;
      --dark-color: #2C3E50;
      --gold-color: #FFD700;
      --silver-color: #C0C0C0;
      --bronze-color: #CD7F32;
    }
    
    * {
      box-sizing: border-box;
    }
    
    body {
      margin: 0;
      font-family: "Vazir", sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #e6e9f0 100%);
      color: var(--dark-color);
      text-align: center;
      padding: 0 15px;
      min-height: 100vh;
      -webkit-tap-highlight-color: transparent;
      display: flex;
      flex-direction: column;
    }

    header {
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 20px 10px;
      border-radius: 0 0 20px 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }

    .header-title {
      font-size: 1.4rem;
      margin: 0;
    }

    .zekr {
      font-size: 1rem;
      margin: 10px 0 0;
      color: rgba(255,255,255,0.9);
    }

    .main-container {
      display: flex;
      flex-direction: column;
      max-width: 800px;
      margin: 0 auto;
      gap: 20px;
      padding-bottom: 30px;
      flex: 1;
      width: 100%;
    }

    .main-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      background-color: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      width: 100%;
    }

    .user-greeting {
      font-size: 1.4rem;
      color: var(--secondary-color);
      margin-bottom: 10px;
    }

    .circle-btn {
      width: 220px;
      height: 220px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 10px 25px rgba(93, 63, 211, 0.2);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 5px solid var(--primary-color);
      overflow: hidden;
      position: relative;
    }

    @media (max-width: 768px) {
      .circle-btn {
        width: 200px;
        height: 200px;
      }
    }

    @media (max-width: 480px) {
      .circle-btn {
        width: 180px;
        height: 180px;
      }
    }

    .circle-btn:hover {
      transform: scale(1.03);
      box-shadow: 0 15px 30px rgba(93, 63, 211, 0.3);
    }

    .circle-btn:active {
      transform: scale(0.98);
    }

    .circle-btn img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      padding: 20px;
    }

    .counter-text {
      font-size: 1.5rem;
      color: var(--secondary-color);
      font-weight: bold;
      margin-top: 15px;
    }

    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      width: 100%;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .action-btn {
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 15px 25px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
      box-shadow: 0 5px 15px rgba(93, 63, 211, 0.2);
      border: none;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.1rem;
      flex: 1;
      justify-content: center;
      min-width: 180px;
    }

    .action-btn:active {
      transform: translateY(2px);
    }

    @font-face {
      font-family: "Vazir";
      src: url("https://cdn.fontcdn.ir/Font/Persian/Vazir/Vazir.woff2") format("woff2");
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    
    .pulse {
      animation: pulse 1.5s infinite;
    }

    .medal-icon {
      font-size: 1.2rem;
    }

    .gold {
      color: var(--gold-color);
    }

    .silver {
      color: var(--silver-color);
    }

    .bronze {
      color: var(--bronze-color);
    }

    /* Ø¯Ú©ÙˆØ±ÛŒØ´Ù† Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ */
    .footer-decoration {
      width: 100%;
      height: 80px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25" fill="%235D3FD3"></path><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5" fill="%235D3FD3"></path><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" fill="%235D3FD3"></path></svg>');
      background-size: cover;
      background-repeat: no-repeat;
      position: relative;
      margin-top: auto;
    }

    .wave {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 200%;
      height: 100%;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25" fill="%235D3FD3"></path><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5" fill="%235D3FD3"></path><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" fill="%235D3FD3"></path></svg>');
      background-repeat: repeat-x;
      animation: wave 10s linear infinite;
    }

    @keyframes wave {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }

    /* Ø¨Ù‡Ø¨ÙˆØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
    @media (max-width: 768px) {
      header {
        padding: 15px 8px;
      }
      
      .header-title {
        font-size: 1.2rem;
      }
      
      .zekr {
        font-size: 0.9rem;
      }
      
      .main-content {
        padding: 20px;
      }
      
      .user-greeting {
        font-size: 1.3rem;
      }
      
      .counter-text {
        font-size: 1.3rem;
      }
      
      .action-btn {
        padding: 12px 20px;
        font-size: 1rem;
        min-width: 160px;
      }
      
      .footer-decoration {
        height: 60px;
      }
    }

    @media (max-width: 480px) {
      .header-title {
        font-size: 1.1rem;
      }
      
      .action-buttons {
        flex-direction: row;
      }
      
      .action-btn {
        min-width: 140px;
        font-size: 0.9rem;
        padding: 10px 15px;
      }
      
      .footer-decoration {
        height: 50px;
      }
      
      .user-greeting {
        font-size: 1.2rem;
      }
      
      .counter-text {
        font-size: 1.2rem;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <header>
    <h1 class="header-title">Ø°Ú©Ø± Ø±ÙˆØ² <span id="weekday-name"></span>: <span id="today-zekr"></span></h1>
    <div class="zekr">ØªØ§Ø±ÛŒØ® Ø§Ù…Ø±ÙˆØ²: <span id="today-date"></span></div>
  </header>

  <div class="main-container">
    <div class="main-content">
      <div class="user-greeting">Ø³Ù„Ø§Ù… <span id="username"></span>! ğŸ‘‹</div>
      
      <div class="circle-btn pulse" onclick="increase()" id="salavat-btn">
        <img src="Salavat.png" alt="ØµÙ„ÙˆØ§Øª">
      </div>
      
      <div class="counter-text">ØªØ¹Ø¯Ø§Ø¯ ØµÙ„ÙˆØ§Øª Ø´Ù…Ø§: <span id="count">0</span></div>
      
      <div class="action-buttons">
        <button class="action-btn" onclick="showPrayerBook()">
          <i class="fas fa-book-open"></i>
          <span>Ú©ØªØ§Ø¨ Ø§Ø¯Ø¹ÛŒÙ‡</span>
        </button>
        <button class="action-btn" onclick="showLeaderboard()">
          <i class="fas fa-trophy"></i>
          <span>Ù†ÙØ±Ø§Øª Ø¨Ø±ØªØ±</span>
        </button>
        <button class="action-btn" onclick="showUserStats()">
          <i class="fas fa-user"></i>
          <span>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Ø¯Ú©ÙˆØ±ÛŒØ´Ù† Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ -->
  <div class="footer-decoration">
    <div class="wave"></div>
  </div>

  <script>
    // ØªÙ†Ø¸ÛŒÙ… ØªØ§Ø±ÛŒØ® Ùˆ Ø°Ú©Ø± Ø±ÙˆØ²
    function setupDateTime() {
      const zekrHaft = [
        "ÛŒØ§ Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÛŒÙ†", "ÛŒØ§ Ø°Ø§Ù„Ø¬Ù„Ø§Ù„ Ùˆ Ø§Ù„Ø§Ú©Ø±Ø§Ù…", "ÛŒØ§ Ù‚Ø§Ø¶ÛŒ Ø§Ù„Ø­Ø§Ø¬Ø§Øª",
        "ÛŒØ§ Ø§Ø±Ø­Ù… Ø§Ù„Ø±Ø§Ø­Ù…ÛŒÙ†", "ÛŒØ§ Ø­ÛŒ ÛŒØ§ Ù‚ÛŒÙˆÙ…", "ÛŒØ§ Ø§Ø±Ø­Ù… Ø§Ù„Ø±Ø§Ø­Ù…ÛŒÙ†", "Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ Ùˆ Ø¢Ù„ Ù…Ø­Ù…Ø¯"
      ];
      const weekdays = ["Ø´Ù†Ø¨Ù‡", "ÛŒÚ©â€ŒØ´Ù†Ø¨Ù‡", "Ø¯ÙˆØ´Ù†Ø¨Ù‡", "Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡", "Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡", "Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡", "Ø¬Ù…Ø¹Ù‡"];
      const today = new Date();
      const jsDay = today.getDay();
      const weekDay = (jsDay + 1) % 7;

      document.getElementById('today-zekr').textContent = zekrHaft[weekDay];
      document.getElementById('weekday-name').textContent = weekdays[weekDay];
      
      // Ù†Ù…Ø§ÛŒØ´ ØªØ§Ø±ÛŒØ® Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„
      const persianDate = new Intl.DateTimeFormat('fa-IR-u-nu-latn', { 
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        weekday: 'long'
      }).format(today);
      
      document.getElementById('today-date').textContent = persianDate;
    }

    // Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±
    function setupUsername() {
      let name = localStorage.getItem('username');
      if (!name) {
        Swal.fire({
          title: 'Ø³Ù„Ø§Ù… Ø¯ÙˆØ³Øª Ø¹Ø²ÛŒØ²!',
          text: 'Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:',
          input: 'text',
          inputPlaceholder: 'Ù†Ø§Ù… Ø´Ù…Ø§...',
          background: '#f8f9fa',
          confirmButtonColor: '#5D3FD3',
          showCancelButton: false,
          allowOutsideClick: false,
          inputValidator: (value) => {
            if (!value) {
              return 'Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!';
            }
          }
        }).then((result) => {
          if (result.value) {
            name = result.value;
            localStorage.setItem('username', name);
            document.getElementById('username').textContent = name;
          }
        });
      } else {
        document.getElementById('username').textContent = name;
      }
    }

    // Ù…Ø¯ÛŒØ±ÛŒØª ØµÙ„ÙˆØ§Øª Ø´Ù…Ø§Ø±
    function setupSalavatCounter() {
      let count = parseInt(localStorage.getItem('salavatCount')) || 0;
      document.getElementById('count').textContent = count;
      let isPlaying = false;
      let typingInterval;

      window.increase = function() {
        if (isPlaying) return;

        isPlaying = true;
        const btn = document.getElementById("salavat-btn");
        btn.classList.remove("pulse");
        btn.style.opacity = "0.7";
        btn.style.transform = "scale(0.95)";

        const salawatText = "Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ Ùˆ Ø¢Ù„ Ù…Ø­Ù…Ø¯";
        let i = 0;
        let typedText = "";
        
        const swalInstance = Swal.fire({
          title: 'ØµÙ„ÙˆØ§Øª',
          html: `<div id="typing-text" style="font-size: 1.5rem; color: #5D3FD3; min-height: 100px; line-height: 2;"></div>`,
          showConfirmButton: false,
          allowOutsideClick: false,
          background: '#f8f9fa',
          didOpen: () => {
            typingInterval = setInterval(() => {
              if (i < salawatText.length) {
                typedText += salawatText.charAt(i);
                document.getElementById("typing-text").innerHTML = typedText;
                i++;
              } else {
                clearInterval(typingInterval);
                setTimeout(() => {
                  swalInstance.close();
                  completeSalawat();
                }, 500);
              }
            }, 100);
          },
          willClose: () => {
            clearInterval(typingInterval);
            isPlaying = false;
            btn.style.opacity = "1";
            btn.style.transform = "scale(1)";
            btn.classList.add("pulse");
          }
        });
      }

      function completeSalawat() {
        count++;
        localStorage.setItem('salavatCount', count);
        document.getElementById('count').textContent = count;

        isPlaying = false;
        const btn = document.getElementById("salavat-btn");
        btn.style.opacity = "1";
        btn.style.transform = "scale(1)";
        btn.classList.add("pulse");
      }
    }

    // Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ù†ÙˆÛŒ Ø§Ø¯Ø¹ÛŒÙ‡ Ùˆ Ù„ÛŒØ³Øª Ø¨Ø±ØªØ±ÛŒÙ†â€ŒÙ‡Ø§
    function setupMenus() {
      let currentSurahIndex = 0;
      const surahs = [
        {
          title: "Ø³ÙˆØ±Ù‡ Ø­Ù…Ø¯",
          text: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù\nØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø±ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù\nØ§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù\nÙ…ÙØ§Ù„ÙÙƒÙ ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ø¯ÙÙ‘ÙŠÙ†Ù\nØ¥ÙÙŠÙÙ‘Ø§ÙƒÙ Ù†ÙØ¹Ù’Ø¨ÙØ¯Ù ÙˆÙØ¥ÙÙŠÙÙ‘Ø§ÙƒÙ Ù†ÙØ³Ù’ØªÙØ¹ÙÙŠÙ†Ù\nØ§Ù‡Ù’Ø¯ÙÙ†ÙØ§ Ø§Ù„ØµÙÙ‘Ø±ÙØ§Ø·Ù Ø§Ù„Ù’Ù…ÙØ³Ù’ØªÙÙ‚ÙÙŠÙ…Ù\nØµÙØ±ÙØ§Ø·Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø£ÙÙ†Ù’Ø¹ÙÙ…Ù’ØªÙ Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ…Ù’ ØºÙÙŠÙ’Ø±Ù Ø§Ù„Ù’Ù…ÙØºÙ’Ø¶ÙÙˆØ¨Ù Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ…Ù’ ÙˆÙÙ„ÙØ§ Ø§Ù„Ø¶ÙÙ‘Ø§Ù„ÙÙ‘ÙŠÙ†Ù"
        },
        {
          title: "Ø³ÙˆØ±Ù‡ ØªÙˆØ­ÛŒØ¯",
          text: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù\nÙ‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ\nØ§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØµÙÙ‘Ù…ÙØ¯Ù\nÙ„ÙÙ…Ù’ ÙŠÙÙ„ÙØ¯Ù’ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙˆÙ„ÙØ¯Ù’\nÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙƒÙÙ†Ù’ Ù„ÙÙ‡Ù ÙƒÙÙÙÙˆÙ‹Ø§ Ø£ÙØ­ÙØ¯ÙŒ"
        },
        {
          title: "Ø³ÙˆØ±Ù‡ Ú©ÙˆØ«Ø±",
          text: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù\nØ¥ÙÙ†ÙÙ‘Ø§ Ø£ÙØ¹Ù’Ø·ÙÙŠÙ’Ù†ÙØ§ÙƒÙ Ø§Ù„Ù’ÙƒÙÙˆÙ’Ø«ÙØ±Ù\nÙÙØµÙÙ„ÙÙ‘ Ù„ÙØ±ÙØ¨ÙÙ‘ÙƒÙ ÙˆÙØ§Ù†Ù’Ø­ÙØ±Ù’\nØ¥ÙÙ†ÙÙ‘ Ø´ÙØ§Ù†ÙØ¦ÙÙƒÙ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø£ÙØ¨Ù’ØªÙØ±Ù"
        },
        {
          title: "Ø¢ÛŒØª Ø§Ù„Ú©Ø±Ø³ÛŒ",
          text: "Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§ÙÙ‘ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù Ù„Ø§Ù ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„Ø§Ù Ù†ÙÙˆÙ’Ù…ÙŒ Ù„ÙÙ‘Ù‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ø£ÙØ±Ù’Ø¶Ù Ù…ÙÙ† Ø°ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠ ÙŠÙØ´Ù’ÙÙØ¹Ù Ø¹ÙÙ†Ù’Ø¯ÙÙ‡Ù Ø¥ÙÙ„Ø§ÙÙ‘ Ø¨ÙØ¥ÙØ°Ù’Ù†ÙÙ‡Ù ÙŠÙØ¹Ù’Ù„ÙÙ…Ù Ù…ÙØ§ Ø¨ÙÙŠÙ’Ù†Ù Ø£ÙÙŠÙ’Ø¯ÙÙŠÙ‡ÙÙ…Ù’ ÙˆÙÙ…ÙØ§ Ø®ÙÙ„Ù’ÙÙÙ‡ÙÙ…Ù’ ÙˆÙÙ„Ø§Ù ÙŠÙØ­ÙÙŠØ·ÙÙˆÙ†Ù Ø¨ÙØ´ÙÙŠÙ’Ø¡Ù Ù…ÙÙ‘Ù†Ù’ Ø¹ÙÙ„Ù’Ù…ÙÙ‡Ù Ø¥ÙÙ„Ø§ÙÙ‘ Ø¨ÙÙ…ÙØ§ Ø´ÙØ§Ø¡ ÙˆÙØ³ÙØ¹Ù ÙƒÙØ±Ù’Ø³ÙÙŠÙÙ‘Ù‡Ù Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙØ§Ù„Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ„Ø§Ù ÙŠÙØ¤ÙÙˆØ¯ÙÙ‡Ù Ø­ÙÙÙ’Ø¸ÙÙ‡ÙÙ…ÙØ§ ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙÙ‘ Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ…Ù"
        }
      ];

      let readSurahs = JSON.parse(localStorage.getItem('readSurahs')) || [];
      let todaySalavat = parseInt(localStorage.getItem('todaySalavat')) || 0;
      const todayDate = new Date().toDateString();
      let lastSalavatDate = localStorage.getItem('lastSalavatDate');

      // Ø§Ú¯Ø± ØªØ§Ø±ÛŒØ® ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ ØªØ¹Ø¯Ø§Ø¯ ØµÙ„ÙˆØ§Øª Ø§Ù…Ø±ÙˆØ² Ø±Ø§ Ø±ÛŒØ³Øª Ú©Ù†ÛŒÙ…
      if (lastSalavatDate !== todayDate) {
        todaySalavat = 0;
        localStorage.setItem('todaySalavat', todaySalavat);
        localStorage.setItem('lastSalavatDate', todayDate);
      }

      window.showPrayerBook = function() {
        Swal.fire({
          title: 'Ú©ØªØ§Ø¨ Ø§Ø¯Ø¹ÛŒÙ‡',
          html: `
            <div style="display: flex; flex-direction: column; gap: 15px; margin-top: 20px;">
              <button onclick="showQuran()" style="
                background: linear-gradient(to right, #5D3FD3, #3A1CA6);
                color: white;
                padding: 15px;
                border-radius: 10px;
                border: none;
                cursor: pointer;
                font-weight: bold;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
                font-size: 1.1rem;
              ">
                <i class="fas fa-quran"></i>
                Ù‚Ø±Ø§Ø¦Øª Ù‚Ø±Ø¢Ù†
              </button>
              
              <button onclick="showFaraj()" style="
                background: linear-gradient(to right, #5D3FD3, #3A1CA6);
                color: white;
                padding: 15px;
                border-radius: 10px;
                border: none;
                cursor: pointer;
                font-weight: bold;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
                font-size: 1.1rem;
              ">
                <i class="fas fa-hands-praying"></i>
                Ø¯Ø¹Ø§ÛŒ ÙØ±Ø¬
              </button>
              
              <button onclick="showNadeh()" style="
                background: linear-gradient(to right, #5D3FD3, #3A1CA6);
                color: white;
                padding: 15px;
                border-radius: 10px;
                border: none;
                cursor: pointer;
                font-weight: bold;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
                font-size: 1.1rem;
              ">
                <i class="fas fa-person-praying"></i>
                Ø¯Ø¹Ø§ÛŒ Ù†Ø¯Ø¨Ù‡
              </button>
              
              <button onclick="showAshura()" style="
                background: linear-gradient(to right, #5D3FD3, #3A1CA6);
                color: white;
                padding: 15px;
                border-radius: 10px;
                border: none;
                cursor: pointer;
                font-weight: bold;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
                font-size: 1.1rem;
              ">
                <i class="fas fa-kaaba"></i>
                Ø²ÛŒØ§Ø±Øª Ø¹Ø§Ø´ÙˆØ±Ø§
              </button>
            </div>
          `,
          showConfirmButton: false,
          background: '#f8f9fa',
          width: '90%'
        });
      }

      window.showLeaderboard = function() {
        Swal.fire({
          title: 'Ù†ÙØ±Ø§Øª Ø¨Ø±ØªØ±',
          html: `
            <div style="text-align: right; margin-top: 20px;">
              <div style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                background-color: rgba(255, 215, 0, 0.1);
                border-left: 4px solid gold;
                border-radius: 10px;
                margin-bottom: 10px;
              ">
                <span style="font-weight: bold; color: #3A1CA6; font-size: 1.2rem;">1</span>
                <span style="flex-grow: 1; padding: 0 15px; font-size: 1.1rem;">Ù…Ø­Ù…Ø¯</span>
                <span style="font-weight: bold; color: #5D3FD3; font-size: 1.1rem;">120 ØµÙ„ÙˆØ§Øª</span>
              </div>
              
              <div style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                background-color: rgba(192, 192, 192, 0.1);
                border-left: 4px solid silver;
                border-radius: 10px;
                margin-bottom: 10px;
              ">
                <span style="font-weight: bold; color: #3A1CA6; font-size: 1.2rem;">2</span>
                <span style="flex-grow: 1; padding: 0 15px; font-size: 1.1rem;">ÙØ§Ø·Ù…Ù‡</span>
                <span style="font-weight: bold; color: #5D3FD3; font-size: 1.1rem;">95 ØµÙ„ÙˆØ§Øª</span>
              </div>
              
              <div style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                background-color: rgba(205, 127, 50, 0.1);
                border-left: 4px solid #CD7F32;
                border-radius: 10px;
                margin-bottom: 10px;
              ">
                <span style="font-weight: bold; color: #3A1CA6; font-size: 1.2rem;">3</span>
                <span style="flex-grow: 1; padding: 0 15px; font-size: 1.1rem;">Ø¹Ù„ÛŒ</span>
                <span style="font-weight: bold; color: #5D3FD3; font-size: 1.1rem;">80 ØµÙ„ÙˆØ§Øª</span>
              </div>
              
              <div style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                background-color: rgba(245, 245, 245, 0.5);
                border-radius: 10px;
                margin-bottom: 10px;
              ">
                <span style="font-weight: bold; color: #3A1CA6; font-size: 1.2rem;">4</span>
                <span style="flex-grow: 1; padding: 0 15px; font-size: 1.1rem;">Ø²Ù‡Ø±Ø§</span>
                <span style="font-weight: bold; color: #5D3FD3; font-size: 1.1rem;">65 ØµÙ„ÙˆØ§Øª</span>
              </div>
              
              <div style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                background-color: rgba(245, 245, 245, 0.5);
                border-radius: 10px;
              ">
                <span style="font-weight: bold; color: #3A1CA6; font-size: 1.2rem;">5</span>
                <span style="flex-grow: 1; padding: 0 15px; font-size: 1.1rem;">Ø­Ø³ÛŒÙ†</span>
                <span style="font-weight: bold; color: #5D3FD3; font-size: 1.1rem;">50 ØµÙ„ÙˆØ§Øª</span>
              </div>
            </div>
          `,
          showConfirmButton: false,
          background: '#f8f9fa',
          width: '90%'
        });
      }

      window.showUserStats = function() {
        const name = localStorage.getItem('username') || 'Ú©Ø§Ø±Ø¨Ø±';
        const totalSalavat = parseInt(localStorage.getItem('salavatCount')) || 0;
        const todaySalavat = parseInt(localStorage.getItem('todaySalavat')) || 0;
        const readSurahs = JSON.parse(localStorage.getItem('readSurahs')) || [];
        
        Swal.fire({
          title: 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ',
          html: `
            <div style="text-align: right; margin-top: 20px;">
              <div style="
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                border-radius: 10px;
                margin-bottom: 10px;
              ">
                <span style="font-weight: bold; font-size: 1.1rem;">Ù†Ø§Ù…: </span>
                <span style="font-size: 1.1rem;">${name}</span>
              </div>
              
              <div style="
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                border-radius: 10px;
                margin-bottom: 10px;
              ">
                <span style="font-weight: bold; font-size: 1.1rem;">ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ ØµÙ„ÙˆØ§Øª: </span>
                <span style="font-size: 1.1rem;">${totalSalavat}</span>
              </div>
              
              <div style="
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                border-radius: 10px;
                margin-bottom: 10px;
              ">
                <span style="font-weight: bold; font-size: 1.1rem;">ØµÙ„ÙˆØ§Øª Ø§Ù…Ø±ÙˆØ²: </span>
                <span style="font-size: 1.1rem;">${todaySalavat}</span>
              </div>
              
              <div style="
                padding: 15px;
                border-bottom: 1px solid rgba(0,0,0,0.05);
                border-radius: 10px;
              ">
                <span style="font-weight: bold; font-size: 1.1rem;">Ø³ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ§Ù†Ø¯Ù‡ Ø´Ø¯Ù‡: </span>
                <div style="margin-top: 10px;">
                  ${readSurahs.length > 0 ? 
                    readSurahs.map(surah => `<div style="margin-bottom: 5px; font-size: 1rem;">- ${surah}</div>`).join('') : 
                    '<div style="font-size: 1rem;">Ù‡Ù†ÙˆØ² Ø³ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø®ÙˆØ§Ù†Ø¯Ù‡ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</div>'}
                </div>
              </div>
            </div>
          `,
          confirmButtonText: 'Ø¨Ø³ØªÙ†',
          confirmButtonColor: '#5D3FD3',
          background: '#f8f9fa',
          width: '90%'
        });
      }

      window.showQuran = function() {
        const surah = surahs[currentSurahIndex];
        let isPlaying = true;
        let typingInterval;
        let i = 0;
        let typedText = "";
        
        const swalInstance = Swal.fire({
          title: surah.title,
          html: `<div id="typing-text" style="font-size: 1.3rem; color: #5D3FD3; min-height: 250px; text-align: right; line-height: 2.5; padding: 15px;"></div>`,
          showConfirmButton: false,
          allowOutsideClick: false,
          background: '#f8f9fa',
          width: '90%',
          didOpen: () => {
            typingInterval = setInterval(() => {
              if (i < surah.text.length) {
                typedText += surah.text.charAt(i);
                document.getElementById("typing-text").innerHTML = typedText.replace(/\n/g, '<br>');
                i++;
              } else {
                clearInterval(typingInterval);
                isPlaying = false;
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† Ù¾Ø³ Ø§Ø² Ø§ØªÙ…Ø§Ù… ØªØ§ÛŒÙ¾
                swalInstance.update({
                  showConfirmButton: true,
                  confirmButtonText: 'Ø¨Ø³ØªÙ†',
                  confirmButtonColor: '#5D3FD3',
                  allowOutsideClick: true
                });
                
                // Ø°Ø®ÛŒØ±Ù‡ Ø³ÙˆØ±Ù‡ Ø®ÙˆØ§Ù†Ø¯Ù‡ Ø´Ø¯Ù‡
                if (!readSurahs.includes(surah.title)) {
                  readSurahs.push(surah.title);
                  localStorage.setItem('readSurahs', JSON.stringify(readSurahs));
                }
              }
            }, 50);
          },
          willClose: () => {
            clearInterval(typingInterval);
            isPlaying = false;
          }
        });
        
        // ØªØºÛŒÛŒØ± Ø³ÙˆØ±Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯ÙØ¹Ù‡ Ø¨Ø¹Ø¯ÛŒ
        currentSurahIndex = (currentSurahIndex + 1) % surahs.length;
      }

      window.showFaraj = function() {
        const farajText = "Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ ÙƒÙÙ†Ù’ Ù„ÙÙˆÙÙ„ÙÙŠÙÙ‘ÙƒÙ Ø§Ù„Ù’Ø­ÙØ¬ÙÙ‘Ø©Ù Ø¨Ù’Ù†Ù Ø§Ù„Ù’Ø­ÙØ³ÙÙ†Ù\nØµÙÙ„ÙÙˆÙØ§ØªÙÙƒÙ Ø¹ÙÙ„ÙÙŠÙ’Ù‡Ù ÙˆÙØ¹ÙÙ„ÙÙ‰ Ø¢Ø¨ÙØ§Ø¦ÙÙ‡Ù\nÙÙÙŠ Ù‡ÙØ°ÙÙ‡Ù Ø§Ù„Ø³ÙÙ‘Ø§Ø¹ÙØ©Ù ÙˆÙÙÙÙŠ Ú©ÙÙ„ÙÙ‘ Ø³ÙØ§Ø¹ÙØ©Ù\nÙˆÙÙ„ÙÙŠÙ‹Ù‘Ø§ ÙˆÙØ­ÙØ§ÙÙØ¸Ù‹Ø§ ÙˆÙÙ‚ÙØ§Ø¦ÙØ¯Ù‹Ø§ ÙˆÙÙ†ÙØ§ØµÙØ±Ù‹Ø§\nÙˆÙØ¯ÙÙ„ÙÙŠÙ„Ù‹Ø§ ÙˆÙØ¹ÙÙŠÙ’Ù†Ù‹Ø§ Ø­ÙØªÙÙ‘Ù‰ ØªÙØ³Ù’Ú©ÙÙ†ÙÙ‡Ù Ø£ÙØ±Ù’Ø¶ÙÚ©Ù Ø·ÙÙˆÙ’Ø¹Ù‹Ø§\nÙˆÙØªÙÙ…ÙØªÙÙ‘Ø¹ÙÙ‡Ù ÙÙÙŠÙ‡ÙØ§ Ø·ÙÙˆÙÙŠÙ„Ù‹Ø§";
        let typingInterval;
        let i = 0;
        let typedText = "";
        let isPlaying = true;
        
        const swalInstance = Swal.fire({
          title: "Ø¯Ø¹Ø§ÛŒ ÙØ±Ø¬",
          html: `<div id="typing-text" style="font-size: 1.3rem; color: #5D3FD3; min-height: 250px; text-align: right; line-height: 2.5; padding: 15px;"></div>`,
          showConfirmButton: false,
          allowOutsideClick: false,
          background: '#f8f9fa',
          width: '90%',
          didOpen: () => {
            typingInterval = setInterval(() => {
              if (i < farajText.length) {
                typedText += farajText.charAt(i);
                document.getElementById("typing-text").innerHTML = typedText.replace(/\n/g, '<br>');
                i++;
              } else {
                clearInterval(typingInterval);
                isPlaying = false;
                swalInstance.update({
                  showConfirmButton: true,
                  confirmButtonText: 'Ø¨Ø³ØªÙ†',
                  confirmButtonColor: '#5D3FD3',
                  allowOutsideClick: true
                });
              }
            }, 50);
          },
          willClose: () => {
            clearInterval(typingInterval);
            isPlaying = false;
          }
        });
      }

      window.showNadeh = function() {
        const nadehText = "Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ´Ù’Ú©ÙÙˆ Ø¥ÙÙ„ÙÙŠÙ’Ú©Ù\nÙÙÙ‚Ù’Ø¯Ù Ù†ÙØ¨ÙÙŠÙÙ‘Ù†ÙØ§ ØµÙÙ„ÙÙˆÙØ§ØªÙÚ©Ù Ø¹ÙÙ„ÙÙŠÙ’Ù‡Ù ÙˆÙØ¢Ù„ÙÙ‡Ù\nÙˆÙØºÙÙŠÙ’Ø¨ÙØ©Ù ÙˆÙÙ„ÙÙŠÙÙ‘Ù†ÙØ§\nÙˆÙÚ©ÙØ«Ù’Ø±ÙØ©Ù Ø¹ÙØ¯ÙÙˆÙÙ‘Ù†ÙØ§\nÙˆÙÙ‚ÙÙ„ÙÙ‘Ø©Ù Ø¹ÙØ¯ÙØ¯ÙÙ†ÙØ§\nÙˆÙØ´ÙØ¯ÙÙ‘Ø©Ù Ø§Ù„Ù’ÙÙØªÙÙ†Ù Ø¨ÙÙ†ÙØ§\nÙˆÙØªÙØ¸ÙØ§Ù‡ÙØ±Ù Ø§Ù„Ø²ÙÙ‘Ù…ÙØ§Ù†Ù Ø¹ÙÙ„ÙÙŠÙ’Ù†ÙØ§";
        let typingInterval;
        let i = 0;
        let typedText = "";
        let isPlaying = true;
        
        const swalInstance = Swal.fire({
          title: "Ø¯Ø¹Ø§ÛŒ Ù†Ø¯Ø¨Ù‡",
          html: `<div id="typing-text" style="font-size: 1.3rem; color: #5D3FD3; min-height: 250px; text-align: right; line-height: 2.5; padding: 15px;"></div>`,
          showConfirmButton: false,
          allowOutsideClick: false,
          background: '#f8f9fa',
          width: '90%',
          didOpen: () => {
            typingInterval = setInterval(() => {
              if (i < nadehText.length) {
                typedText += nadehText.charAt(i);
                document.getElementById("typing-text").innerHTML = typedText.replace(/\n/g, '<br>');
                i++;
              } else {
                clearInterval(typingInterval);
                isPlaying = false;
                swalInstance.update({
                  showConfirmButton: true,
                  confirmButtonText: 'Ø¨Ø³ØªÙ†',
                  confirmButtonColor: '#5D3FD3',
                  allowOutsideClick: true
                });
              }
            }, 50);
          },
          willClose: () => {
            clearInterval(typingInterval);
            isPlaying = false;
          }
        });
      }

      window.showAshura = function() {
        Swal.fire({
          title: 'Ø²ÛŒØ§Ø±Øª Ø¹Ø§Ø´ÙˆØ±Ø§',
          text: 'Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯',
          icon: 'info',
          confirmButtonColor: '#5D3FD3',
          confirmButtonText: 'Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯Ù…'
        });
      }
    }

    // Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø¨Ø®Ø´â€ŒÙ‡Ø§
    document.addEventListener('DOMContentLoaded', function() {
      setupDateTime();
      setupUsername();
      setupSalavatCounter();
      setupMenus();
      
      // Ø¨Ù‡Ø¨ÙˆØ¯ Ø¹Ù…Ù„Ú©Ø±Ø¯ ØªØ§Ú† Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
      document.querySelectorAll('button').forEach(btn => {
        btn.addEventListener('touchstart', function() {
          this.style.transform = 'translateY(2px)';
        });
        btn.addEventListener('touchend', function() {
          this.style.transform = '';
        });
      });
    });
  </script>

</body>
</html>
